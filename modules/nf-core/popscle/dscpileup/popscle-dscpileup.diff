Changes in component 'nf-core/popscle/dscpileup'
Changes in 'popscle/dscpileup/main.nf':
--- modules/nf-core/popscle/dscpileup/main.nf
+++ modules/nf-core/popscle/dscpileup/main.nf
@@ -1,57 +1,61 @@
 process POPSCLE_DSCPILEUP {
-    tag "$meta.id"
+    tag "${meta.id}"
     label 'process_medium'
 
     conda "${moduleDir}/environment.yml"
-    container "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
-        'https://depot.galaxyproject.org/singularity/popscle:0.1beta--h2c78cec_0' :
-        'biocontainers/popscle:0.1beta--h2c78cec_0' }"
+    container "${workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container
+        ? 'https://depot.galaxyproject.org/singularity/popscle:0.1beta--h2c78cec_0'
+        : 'biocontainers/popscle:0.1beta--h2c78cec_0'}"
 
     input:
     tuple val(meta), path(bam), path(vcf)
 
     output:
-    tuple val(meta), path('*.cel.gz'), emit: cel
-    tuple val(meta), path('*.plp.gz'), emit: plp
-    tuple val(meta), path('*.var.gz'), emit: var
-    tuple val(meta), path('*.umi.gz'), emit: umi
-    path 'versions.yml'              , emit: versions
+    tuple val(meta), path("${prefix}"), emit: directory
+    tuple val(meta), path("${prefix}/*.cel.gz"), emit: cel
+    tuple val(meta), path("${prefix}/*.plp.gz"), emit: plp
+    tuple val(meta), path("${prefix}/*.var.gz"), emit: var
+    tuple val(meta), path("${prefix}/*.umi.gz"), emit: umi
+    path 'versions.yml', emit: versions
 
     when:
     task.ext.when == null || task.ext.when
 
     script:
-    def args    = task.ext.args ?: ''
-    def prefix  = task.ext.prefix ?: "${meta.id}"
-    def VERSION = '0.1' // WARN: Version information not provided by tool on CLI. Please update version string below when bumping container versions.
+    def args = task.ext.args ?: ''
+    prefix = task.ext.prefix ?: "${meta.id}"
+    def VERSION = '0.1'
+    // WARN: Version information not provided by tool on CLI. Please update version string below when bumping container versions.
 
     """
+    mkdir -p "${prefix}"
     popscle dsc-pileup \\
-        --sam $bam \\
-        --vcf $vcf \\
-        --out $prefix \\
-        $args \\
+        --sam ${bam} \\
+        --vcf ${vcf} \\
+        --out ${prefix}/${prefix} \\
+        ${args} \\
 
     cat <<-END_VERSIONS > versions.yml
     "${task.process}":
-        popscle dsc-pileup: $VERSION
+        popscle dsc-pileup: ${VERSION}
     END_VERSIONS
     """
 
     stub:
-    def args    = task.ext.args ?: ''
-    def prefix  = task.ext.prefix ?: "${meta.id}"
-    def VERSION = '0.1' // WARN: Version information not provided by tool on CLI. Please update version string below when bumping container versions.
+    prefix = task.ext.prefix ?: "${meta.id}"
+    def VERSION = '0.1'
+    // WARN: Version information not provided by tool on CLI. Please update version string below when bumping container versions.
 
     """
-    touch ${prefix}.cel.gz
-    touch ${prefix}.var.gz
-    touch ${prefix}.plp.gz
-    touch ${prefix}.umi.gz
+    mkdir -p ${prefix}
+    touch ${prefix}/${prefix}.cel.gz
+    touch ${prefix}/${prefix}.var.gz
+    touch ${prefix}/${prefix}.plp.gz
+    touch ${prefix}/${prefix}.umi.gz
 
     cat <<-END_VERSIONS > versions.yml
     "${task.process}":
-        popscle dsc-pileup: $VERSION
+        popscle dsc-pileup: ${VERSION}
     END_VERSIONS
     """
 }

'modules/nf-core/popscle/dscpileup/environment.yml' is unchanged
'modules/nf-core/popscle/dscpileup/meta.yml' is unchanged
'modules/nf-core/popscle/dscpileup/tests/main.nf.test.snap' is unchanged
'modules/nf-core/popscle/dscpileup/tests/main.nf.test' is unchanged
************************************************************
